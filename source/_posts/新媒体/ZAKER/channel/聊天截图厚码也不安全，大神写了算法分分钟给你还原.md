
---
title: '聊天截图厚码也不安全，大神写了算法分分钟给你还原'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd0c_1024.jpg'
author: ZAKER
comments: false
date: Thu, 17 Feb 2022 01:21:58 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd0c_1024.jpg'
---

<div>   
<p>讲个恐怖的故事。</p><p>早上跟同事在微信闲谈，聊起了一位女同事最近的变化。</p><p>结果他反手就把文字打上<strong>马赛克</strong>，截图丢进了群里：</p><p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_0" data-original="http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd0c_1024.jpg" data-height="768" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd0c_1024.jpg" referrerpolicy="no-referrer"></div></div>还欠欠儿地补了一刀：<p></p><p>@XXX，他说你坏话了呦 ~</p><p>万万没想到，这位同事气势汹汹地走了过来，竟然直接点出了 " 秘密文字 " 的内容。</p><p>当时的我是这样的：</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_1" data-original="http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd0d_1024.jpg" data-height="472" data-width="448" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd0d_1024.jpg" referrerpolicy="no-referrer"></div></div>见状，这位老师补充道：<p></p><p>都什么年代了，以为打马赛克我就认不出来了？<strong>分分钟还原</strong>好吧！</p><p>……</p><p>好奇如我，马上对这个技术展开了一番 " 调查 "。</p><p>（PS：聊天原图在文末揭晓）</p><p><b>如何还原打了马赛克的文字？</b></p><p>还别说，国外一家公司的首席研究员 Dan Petro（下文简称 Dan），这两天就发布了这么一篇帖子。</p><p>他直接点出了重点：</p><p>打马赛克（像素化），是一种非常不好、不安全，而且会泄露敏感数据的方法。</p><p>为了验证他的说法，Dan 亲自下场写了一个名为<strong> Unredacter</strong> 的工具。</p><p>然后现场演示了一下，这个工具是如何一点一点把打了马赛克的文字还原的：</p><p></p><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_2" data-original="http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd0e_1024.jpg" data-gif-url="http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd0e_raw.gif" data-height="398" data-width="707" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd0e_1024.jpg" referrerpolicy="no-referrer"></div></div>从上面的示例中，不难看出，即便原文打了厚厚的一层马赛克，在这个工具面前依旧像 " 裸奔 " 一样。<p></p><p>或许你会说，这玩意儿操作起来会很复杂吧？</p><p>不不不。</p><p>非常之简单，仅仅是 2 个步骤：</p><p>用 npm install 安装依赖项</p><p>用 npm start 来启动</p><p></p><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_3" data-original="http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd0f_1024.jpg" data-height="488" data-width="880" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd0f_1024.jpg" referrerpolicy="no-referrer"></div></div>虽然在 Dan 之前，已经有类似的工具存在了，例如<strong> Depix</strong>。<p></p><p>但一个非常现实的问题就是，Depix 还原的文字，从视觉效果上并不是很好：</p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_4" data-original="http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd10_1024.jpg" data-height="504" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd10_1024.jpg" referrerpolicy="no-referrer"></div></div>Depix 还原出来的文字，有些地方的还是糊糊的。<p></p><p>因此，国外 Jumpsec Lab 的一位研究员指出了这个问题，并且还附上了一道比较有意思的挑战：</p><p>如果你破解了密码，请联系我们。</p><p></p><div class="img_box" id="id_imagebox_5" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_5" data-original="http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd11_1024.jpg" data-height="153" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd11_1024.jpg" referrerpolicy="no-referrer"></div></div>这样的挑战便引起了 Dan 极大的兴趣，这也就是他开发 Unredacter 的原因。<p></p><p>于是，在 Unredacter 的加持下，Dan 顺利攻破了这项挑战：</p><p></p><div class="img_box" id="id_imagebox_6" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_6" data-original="http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd12_1024.jpg" data-gif-url="http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd12_raw.gif" data-height="338" data-width="600" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd12_1024.jpg" referrerpolicy="no-referrer"></div></div>而后 Dan 联系上了这位研究员，在邮件的回复中，也证实了 Dan 的结果是正确的：<p></p><p></p><div class="img_box" id="id_imagebox_7" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_7" data-original="http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd13_1024.jpg" data-height="364" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd13_1024.jpg" referrerpolicy="no-referrer"></div></div>不仅如此，Dan 还介绍说，像类似用涂抹方式来打的马赛克，无论是在 GiMP、Photoshop 或者其它编辑器中，结果都是一样的。<p></p><p>因此，他的破解方法应当是具备一定的通用性。</p><p>当然，生活中我们或多或少都会有 " 打码 " 的需求，既然马赛克不安全，那有没有更好的方式呢？</p><p>Dan 对此的答复是：</p><p>用黑色条来遮挡。</p><p></p><div class="img_box" id="id_imagebox_8" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_8" data-original="http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd14_1024.jpg" data-height="357" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd14_1024.jpg" referrerpolicy="no-referrer"></div></div><b>还有还原打了马赛克的图片</b><p></p><p>其实 " 还原马赛克 " 这件事，AI 界早就有所研究。</p><p>例如杜克大学提出的<strong> PLUSE</strong>便是其中之一，还登顶了 CVPR。</p><p>但它修复的并不是文字，而是人像，例如：</p><p></p><div class="img_box" id="id_imagebox_9" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_9" data-original="http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd15_1024.jpg" data-height="546" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/620dfafc8e9f0919e82afd15_1024.jpg" referrerpolicy="no-referrer"></div></div><div class="img_box" id="id_imagebox_10" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_10" data-original="http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd16_1024.jpg" data-height="541" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd16_1024.jpg" referrerpolicy="no-referrer"></div></div>从原理角度来看，它本质上是<strong>生成对抗网络</strong>（GAN）。<p></p><p>PLUSE 主要是根据模糊的马赛克像素，" 画 " 出新的一张张不存在的人脸，再压缩回马赛克状态跟原图比一比，把相似的版本拿出来展示。</p><p>当然，这项技术也并非完美，也有翻车的时候。</p><p>例如网友就拿马里奥试了试，结果……</p><p></p><div class="img_box" id="id_imagebox_11" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_11" data-original="http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd17_1024.jpg" data-height="241" data-width="470" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd17_1024.jpg" referrerpolicy="no-referrer"></div></div>Emmm ……这 " 味道 "，不一般。<p></p><p><b>One More Thing</b></p><p>最后，来揭晓一下开头故事的答案。</p><p></p><div class="img_box" id="id_imagebox_12" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_12" data-original="http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd18_1024.jpg" data-height="590" data-width="824" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd18_1024.jpg" referrerpolicy="no-referrer"></div></div>着实是个惨痛的教训了……<p></p><p></p><div class="img_box" id="id_imagebox_13" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_13" data-original="http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd19_1024.jpg" data-gif-url="http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd19_raw.gif" data-height="394" data-width="750" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/620dfafc8e9f0919e82afd19_1024.jpg" referrerpolicy="no-referrer"></div></div>— <strong>完</strong> —<p></p><div id="recommend_bottom"></div><div id="article_bottom"></div>  
</div>
            